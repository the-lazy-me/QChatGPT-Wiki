---
title: QChatGPTçš„è¯¦ç»†é…ç½®è§£è¯»
icon: info
# è¿™æ˜¯ä¾§è¾¹æ çš„é¡ºåº
order: 3
# è®¾ç½®ä½œè€…
author: Lazy
# è®¾ç½®å†™ä½œæ—¶é—´
date: 2024-02-13
category:
  - ä½¿ç”¨æŒ‡å—
tag:
  - é…ç½®æ–¹æ³•
  - ä½¿ç”¨æŒ‡å—
---



:::info ç›®å½•
[[toc]]
:::

## é…ç½®æ–‡ä»¶

### é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ

å½“ä½ ä¸‹è½½å¥½æœ¬é¡¹ç›®åï¼Œä¼šå‘ç°æœ‰ä¸€ä¸ª`templates`æ–‡ä»¶å¤¹ï¼Œå†…éƒ¨å­˜æ”¾çš„å°±æ˜¯å³å°†ç”Ÿæˆçš„é…ç½®æ–‡ä»¶çš„æ¨¡æ¿

é…ç½®æ–‡ä»¶æœ‰ä»¥ä¸‹è¿™äº›ï¼š

- `command.json`ï¼šç”¨äºå­˜æ”¾æœ‰å…³QChatGPTé¡¹ç›®å‘½ä»¤çš„
- `pipeline.json`ï¼šQChatGPT 3.0æ–°å¼•å…¥çš„æ¦‚å¿µï¼Œå¹³å°é€‚é…å™¨è·å–åˆ°æ¶ˆæ¯äº‹ä»¶ä¹‹åï¼Œå‘é€ç»™pipelineæ’é˜Ÿè¿›è¡Œå¤„ç†
- `platform.json`ï¼šä¸æ¶ˆæ¯å¹³å°æœ‰å…³çš„é…ç½®
- `plugin-settings.json`ï¼šç”¨äºé…ç½®æ’ä»¶
- `provider.json`ï¼šæ§åˆ¶AIåŠŸèƒ½ï¼Œè®¾ç½®ä¸OpenAIäº¤äº’çš„å‚æ•°ï¼Œkeyï¼Œæ¨¡å‹ï¼Œåä»£åœ°å€ï¼Œç®€å•çš„äººæ ¼é¢„è®¾ç­‰
- `scenario-template.json`ï¼šé…ç½®äººæ ¼é¢„è®¾çš„æ¨¡æ¿ï¼Œå®ç°æ›´é«˜çº§çš„äººæ ¼é¢„è®¾
- `sensitive-words.json`ï¼šè®¾ç½®æ•æ„Ÿè¯ï¼Œé˜²æ­¢å‡ºç°ä¸å½“è¨€è®º
- `system.json`ï¼šè®¾ç½®ä¸€äº›ç³»ç»Ÿä¿¡æ¯ï¼Œå¦‚ç®¡ç†å‘˜ï¼Œä»£ç†ï¼Œæ—¥å¿—ç®¡ç†ï¼Œå¹¶å‘æ•°ï¼ŒæŒç»­æ¸ é“æç¤ºä¿¡æ¯

ä»¥ä¸‹æ˜¯å¯¹å„ä¸ªé…ç½®æ–‡ä»¶çš„è¯¦ç»†è§£è¯»

## command.json

è®¾ç½®æ¯ä¸ªå‘½ä»¤çš„æƒé™é…ç½®

æ™®é€šç”¨æˆ·æƒé™çº§åˆ«ä¸º 1ï¼Œç®¡ç†å‘˜ï¼ˆ`system.json`ä¸­è®¾ç½®çš„ï¼‰æƒé™çº§åˆ«ä¸º 2ã€‚ 

åœ¨è¿™é‡Œè®¾ç½®æ¯ä¸ªå‘½ä»¤çš„æœ€ä½æƒé™çº§åˆ«ï¼Œè‹¥è®¾ç½®ä¸º1ï¼Œåˆ™ç”¨æˆ·å’Œç®¡ç†å‘˜å‡å¯ç”¨ï¼Œè‹¥ä¸º2ï¼Œåˆ™ä»…ç®¡ç†å‘˜å¯ç”¨

 éœ€è¦è®¾ç½®å­å‘½ä»¤ï¼Œä»¥ç‚¹å·é—´éš”ï¼Œå¦‚`"plugin.on"` ç¤ºä¾‹ï¼š

```json
{ "plugin": 1, 
  "plugin.on": 2 
}
```

 æ„æ€æ˜¯ plugin å‘½ä»¤çš„æœ€ä½æƒé™çº§åˆ«ä¸º 1ï¼Œplugin.on å‘½ä»¤çš„æœ€ä½æƒé™çº§åˆ«ä¸º 2ã€‚ æ¯ä¸ªå‘½ä»¤éƒ½æœ‰é»˜è®¤çš„æƒé™çº§åˆ«

è‹¥ä¸è®¾ç½®ï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„çº§åˆ«åœ¨`pkg/command/operators`é‡Œæ¯ä¸ªå‘½ä»¤ç±»æœ‰é»˜è®¤çš„æƒé™çº§åˆ«

## pipeline.json

QChatGPT 3.0æ–°å¼•å…¥çš„æ¦‚å¿µï¼Œå¹³å°é€‚é…å™¨è·å–åˆ°æ¶ˆæ¯äº‹ä»¶ä¹‹åï¼Œå‘é€ç»™pipelineæ’é˜Ÿè¿›è¡Œå¤„ç†

å¯ä»¥è®¾ç½®é»‘ç™½åå•ã€ç¾¤å“åº”è§„åˆ™ã€æ˜¯å¦æ£€æŸ¥ä¼ å…¥æ¶ˆæ¯ã€ä¼ å…¥æ¶ˆæ¯å¿½ç•¥è§„åˆ™ã€æ˜¯å¦æ£€æŸ¥æ•æ„Ÿè¯ã€ç™¾åº¦äº‘å†…å®¹å®¡æ ¸é…ç½®ã€ä¼ å…¥æ¶ˆæ¯é•¿åº¦è®¾ç½®ã€é™é€Ÿé…ç½®

ä»¥ä¸‹æ˜¯å„é¡¹çš„è¯¦ç»†è§£é‡Š

### é»‘ç™½åå•

```json
"access-control":{
    "mode": "blacklist",
    "blacklist": [],
    "whitelist": []
},
```

`access-control`ï¼šé»‘ç™½åå•æ§åˆ¶

`mode`ï¼šè®¾ç½®æ¨¡å¼ç™½åå• `whitelist` å’Œé»‘åå• `blacklist` ä¸¤ç§æ¨¡å¼

`blacklist`ï¼šæ ¼å¼`{type}_{id}`ï¼Œç¤ºä¾‹ï¼š`"blacklist": [group_12345678ï¼Œperson_12341234],`

`whitelist`ï¼šæ ¼å¼`{type}_{id}`ï¼Œç¤ºä¾‹ï¼š`"whitelist": [group_12345678ï¼Œperson_12341234]`



### ç¾¤å“åº”è§„åˆ™

```json
"respond-rules": {
    "default": {
        "at": true,
        "prefix": [
            "/ai", "!ai", "ï¼ai", "ai"
        ],
        "regexp": [],
        "random": 0.0
    }
},
```

`respond-rules`ï¼šè®¾ç½®ç¾¤å†…å“åº”è§„åˆ™ï¼Œä»…å¯¹access-controlé€šè¿‡çš„ç¾¤ç”Ÿæ•ˆå…¶ä¸­å¯å«æœ‰å¤šä¸ªkeyï¼Œè‹¥è¦å¯¹ç‰¹å®šç¾¤è®¾ç½®å“åº”è§„åˆ™ï¼Œåˆ™ä»¥ç¾¤å·ä½œä¸ºé”®æœªç‰¹æŒ‡çš„ç¾¤ï¼Œå°†ä½¿ç”¨ default ä¸­çš„å“åº”è§„åˆ™

`at`ï¼š`true`æˆ–`false`ï¼Œè®¾ç½®@å“åº”

`prefix`ï¼šè®¾ç½®å“åº”å‰ç¼€

`regexp`ï¼šæ­£åˆ™åŒ¹é…

`random`ï¼šéšæœºåŒ¹é…ï¼Œä¸º1æ—¶æ‰€æœ‰æ¶ˆæ¯éƒ½å“åº”

ä½ å¯ä»¥ä¸ºå•ä¸ªç¾¤èŠè®¾ç½®ç‰¹å®šçš„å“åº”è§„åˆ™ï¼Œä¾‹å¦‚

```json
"respond-rules": {
    "default": {
        "at": true,
        "prefix": [
            "/ai", "!ai", "ï¼ai", "ai"
        ],
        "regexp": [],
        "random": 0.0
    },
    "123456":{
        "at": true,
        "prefix": [
            "/ai", "!ai", "ï¼ai", "ai"
        ],
        "regexp": [],
        "random": 0.0
    },
    "789012":{
        "at": true,
        "prefix": [
            "/ai", "!ai", "ï¼ai", "ai"
        ],
        "regexp": [],
        "random": 0.0
    }
},
```

```json
"income-msg-check": true,
```



### æ˜¯å¦æ£€æŸ¥ä¼ å…¥æ¶ˆæ¯

```json
"income-msg-check": true,
```

`income-msg-check`ï¼šæ˜¯å¦æ£€æŸ¥ä¼ å…¥çš„æ¶ˆæ¯

### ä¼ å…¥æ¶ˆæ¯å¿½ç•¥è§„åˆ™

```json
"ignore-rules": {
    "prefix": ["/"],
    "regexp": []
},
```

ç¬¦åˆè§„åˆ™çš„ä¼ å…¥æ¶ˆæ¯å°†è¢«å¿½ç•¥ï¼Œä»…`income-msg-check`ä¸º`true`æ—¶ç”Ÿæ•ˆ

`prefix`ï¼šå‰ç¼€ä¸º`/`çš„å¿½ç•¥

`regexp`ï¼šæ­£åˆ™åŒ¹é…çš„å¿½ç•¥

### æ˜¯å¦æ£€æŸ¥æ•æ„Ÿè¯

```json
"check-sensitive-words": true,
```

`check-sensitive-words`ï¼šæ˜¯å¦æ£€æŸ¥æ•æ„Ÿè¯ï¼Œæ•æ„Ÿè¯è¯åº“ä¸º`sensitive-words.json`é‡Œé¢çš„

### ç™¾åº¦äº‘å†…å®¹å®¡æ ¸é…ç½®

```json
"baidu-cloud-examine": {
    "enable": false,
    "api-key": "",
    "api-secret": ""
},
```

`baidu-cloud-examine`ï¼šæ§åˆ¶æ˜¯å¦ä½¿ç”¨æ˜¯å¦è¿›è¡Œç™¾åº¦äº‘å†…å®¹å®¡æ ¸

`enable`ï¼šenable=trueæ—¶å¯ç”¨ï¼Œä¸€å®šä¼šæ£€æŸ¥å“åº”ç»“æœï¼Œä»…`income-msg-check`ä¸ºtrueæ—¶æ£€æŸ¥ä¼ å…¥æ¶ˆæ¯

`api-key`ï¼šç™¾åº¦AIå¼€æ”¾å¹³å°çš„`API_KEY`

`api-secret`ï¼šç™¾åº¦AIå¼€æ”¾å¹³å°çš„`SECRET_KEY`

*`API_KEY`ä¸`SECRET_KEY`æ˜¯åœ¨åˆ›å»ºå®Œæ¯•åº”ç”¨åï¼Œç³»ç»Ÿåˆ†é…ç»™ç”¨æˆ·çš„ï¼Œå‡ä¸ºå­—ç¬¦ä¸²ï¼Œç”¨äºæ ‡è¯†ç”¨æˆ·ï¼Œä¸ºè®¿é—®åšç­¾åéªŒè¯ï¼Œå¯åœ¨AIæœåŠ¡æ§åˆ¶å°ä¸­çš„**åº”ç”¨åˆ—è¡¨**ä¸­æŸ¥çœ‹*

### ä¼ å…¥æ¶ˆæ¯é•¿åº¦è®¾ç½®

```json
"submit-messages-tokens": 3072,
```

`submit-messages-tokens`ï¼šä¼ ç»™æ¨¡å‹çš„æ¶ˆæ¯é•¿åº¦é™åˆ¶ï¼Œä¸åŒæ¨¡å‹æœ‰ä¸åŒçš„tokenæ•°é™åˆ¶ï¼ŒQChatGPT å†…éƒ¨ä¼šä¿å­˜å„ä¸ªæ¨¡å‹çš„ï¼ˆçº¦ï¼‰æœ€å¤§tokenæ•°é™åˆ¶

   ä¸æ­¤å€¼å–æœ€å°å€¼ï¼Œåœ¨ä¼ ç»™æ¨¡å‹APIä¹‹å‰è¿›è¡Œæˆªæ–­

### é™é€Ÿé…ç½®

```json
"rate-limit": {
    "strategy": "drop",
    "algo": "fixwin",
    "fixwin": {
        "default": 60
    }
}
```

`rate-limit`é™é€Ÿé…ç½®ï¼Œ æ”¯æŒ drop å’Œ wait ä¸¤ç§ç­–ç•¥

`strategy`ï¼š`drop`ä¸ºä¸¢å¼ƒï¼Œ`wait`ä¸ºç­‰å¾…

`algo`ï¼š ä½¿ç”¨çš„ç®—æ³•ï¼Œç›®å‰ä»…æ”¯æŒ `fixwin` ï¼ˆå›ºå®šçª—å£ï¼‰ï¼Œå³ä¸€åˆ†é’Ÿå†…æœ€å¤šå¤„ç†å¤šå°‘ä¸ªè¯·æ±‚

`fixwin`ï¼šå…·ä½“é€Ÿç‡è®¾ç½®ï¼Œä¸€åˆ†é’Ÿå†…æœ€å¤šå¤„ç†å¤šå°‘ä¸ªè¯·æ±‚ï¼Œ æ”¯æŒå¯¹ç‰¹å®šsessionæŒ‡å®šé™é€Ÿï¼Œæ ¼å¼ä¸º {type}_{id}ï¼Œç¤ºä¾‹ï¼šgroup_12345678ï¼Œperson_12341234

## platform.json

å¯ä»¥é…ç½®ï¼šè¦å¯ç”¨çš„æ¶ˆæ¯é€‚é…å™¨åˆ—è¡¨ï¼Œæ˜¯å¦è·Ÿè¸ªå†…å®¹å‡½æ•°è°ƒç”¨è¿‡ç¨‹ï¼Œç¾¤å†…å›å¤æ—¶æ˜¯å¦å¼•ç”¨åŸæ¶ˆæ¯ï¼Œç¾¤å†…å›å¤æ—¶æ˜¯å¦atåŸç”¨æˆ·ï¼Œå¼ºåˆ¶æ¶ˆæ¯å»¶è¿ŸèŒƒå›´ï¼Œé•¿æ¶ˆæ¯å¤„ç†ç­–ç•¥ï¼Œæ˜¯å¦å‘ç”¨æˆ·éšè—AIçš„å¼‚å¸¸ä¿¡æ¯

### æ¶ˆæ¯é€‚é…å™¨åˆ—è¡¨

```json
"platform-adapters": [
    {
        "adapter": "yiri-mirai",
        "enable": false,
        "host": "127.0.0.1",
        "port": 8080,
        "verifyKey": "yirimirai",
        "qq": 123456789
    },
    {
        "adapter": "nakuru",
        "enable": false,
        "host": "127.0.0.1",
        "ws_port": 8080,
        "http_port": 5700,
        "token": ""
    },
    {
        "adapter": "aiocqhttp",
        "enable": false,
        "host": "127.0.0.1",
        "port": 8080
    },
    {
        "adapter": "qq-botpy",
        "enable": false,
        "appid": "",
        "secret": "",
        "intents": [
            "public_guild_messages",
            "direct_message"
        ]
    }
],
```

æˆªè‡³2024å¹´2æœˆ13æ—¥ï¼Œç›®å‰æ”¯æŒ`mirai`ã€`go-cqhttp`ã€`aiocqhttp`ã€`QQå®˜æ–¹æœºå™¨äºº`ï¼Œæ”¯æŒåŒæ—¶å¼€å¯å¤šä¸ªæ¶ˆæ¯é€‚é…å™¨ï¼Œç”šè‡³å››ä¸ªå…¨å¼€

```json
{
    "adapter": "yiri-mirai",
    "enable": false,
    "host": "127.0.0.1",
    "port": 8080,
    "verifyKey": "yirimirai",
    "qq": 123456789
},
```

`"adapter": "yiri-mirai"`ï¼Œæ— éœ€åŠ¨ï¼Œè¡¨æ˜æ˜¯æ¥å…¥`mirai`çš„é…ç½®

`enable`ï¼šæ˜¯å¦å¯ç”¨ï¼Œ`true`å¼€å¯

`host`ï¼šä¸»æœºåœ°å€ï¼Œä¸€èˆ¬ä¸åŠ¨

`port`ï¼šè®¾ç½®ç«¯å£ï¼Œé»˜è®¤8080ï¼Œä¸`mirai-api-http`é‡Œé¢è®¾ç½®çš„ä¿æŒä¸€è‡´

`verifyKey`ï¼šå¯†é’¥ï¼Œé»˜è®¤yirimiraiï¼Œä¸`mirai-api-http`é‡Œé¢è®¾ç½®çš„ä¿æŒä¸€è‡´

`qq`ï¼šè®¾ç½®æœºå™¨äººQQå·ï¼Œä¸å½“å‰miraiç™»å½•çš„æœºå™¨äººçš„QQå·ä¿æŒä¸€è‡´

```json
{
    "adapter": "nakuru",
    "enable": false,
    "host": "127.0.0.1",
    "ws_port": 8080,
    "http_port": 5700,
    "token": ""
},
```

`"adapter": "nakuru",`ï¼Œæ— éœ€åŠ¨ï¼Œè¡¨æ˜æ˜¯æ¥å…¥`go-cqhttp`çš„é…ç½®

`enable`ï¼šæ˜¯å¦å¯ç”¨ï¼Œ`true`å¼€å¯

`host`ï¼šä¸»æœºåœ°å€ï¼Œä¸€èˆ¬ä¸åŠ¨

  `ws_port`ï¼šæ­£å‘WSæœåŠ¡å™¨ç›‘å¬åœ°å€ï¼Œä¸`go-cqhttp`çš„`config.yml`é‡Œé¢çš„ä¿æŒä¸€è‡´

  `http_port`ï¼šhttpæœåŠ¡å™¨ç›‘å¬åœ°å€ï¼Œä¸`go-cqhttp`çš„`config.yml`é‡Œé¢çš„ä¿æŒä¸€è‡´

  `token`ï¼šéªŒè¯å¯†é’¥ï¼Œï¼Œä¸`go-cqhttp`çš„`config.yml`é‡Œé¢çš„ä¿æŒä¸€è‡´

```json
{
    "adapter": "aiocqhttp",
    "enable": false,
    "host": "127.0.0.1",
    "port": 8080
},
```

`"adapter": "aiocqhttp",`ï¼Œæ— éœ€åŠ¨ï¼Œè¡¨ç¤ºæ˜¯æ¥å…¥`shamrockç­‰onebotåè®®å®ç°çš„æœºå™¨äººæ¡†æ¶`çš„é…ç½®

`enable`ï¼šæ˜¯å¦å¯ç”¨ï¼Œ`true`å¼€å¯

`host`ï¼šä¸»æœºåœ°å€ï¼Œä¸€èˆ¬ä¸åŠ¨

`port`ï¼šè®¾ç½®ç«¯å£ï¼Œé»˜è®¤8080ï¼Œä¸å¯¹åº”æ¡†æ¶é‡Œé¢è®¾ç½®çš„ä¿æŒä¸€è‡´

```json
{
    "adapter": "qq-botpy",
    "enable": false,
    "appid": "",
    "secret": "",
    "intents": [
        "public_guild_messages",
        "direct_message"
    ]
}
```

`"adapter": "qq-botpy",`ï¼Œæ— éœ€åŠ¨ï¼Œè¡¨æ˜æ˜¯æ¥å…¥`QQå®˜æ–¹æœºå™¨äºº`çš„é…ç½®

`enable`ï¼šæ˜¯å¦å¯ç”¨ï¼Œ`true`å¼€å¯

`appid`ï¼šç”³è¯·åˆ°çš„QQå®˜æ–¹æœºå™¨äººçš„appid

`secret`ï¼šç”³è¯·åˆ°çš„QQå®˜æ–¹æœºå™¨äººçš„secret

`intents`ï¼šæ§åˆ¶ç›‘å¬çš„äº‹ä»¶ç±»å‹ï¼Œ`public_guild_messages` é¢‘é“æ¶ˆæ¯`direct_message` é¢‘é“ç§èŠæ¶ˆæ¯  `public_messages` Qç¾¤æ¶ˆæ¯ï¼ˆéœ€è¦æƒé™ï¼‰

### æ˜¯å¦è·Ÿè¸ªå†…å®¹å‡½æ•°è°ƒç”¨è¿‡ç¨‹

```json
"track-function-calls": true,
```

æ˜¯å¦è·Ÿè¸ªå†…å®¹å‡½æ•°è°ƒç”¨è¿‡ç¨‹ï¼Œå¦‚æœå¼€å¯äº†ï¼Œåœ¨å¯¹è¯ä¸­è°ƒç”¨çš„å‡½æ•°è®°å½•ä¹Ÿä¼šå‘ç»™ç”¨æˆ·

å…³é—­åä»…ä¼šå‘ç»™ç”¨æˆ·æœ€ç»ˆç»“æœ



### ç¾¤å†…å›å¤æ—¶æ˜¯å¦å¼•ç”¨åŸæ¶ˆæ¯

```json
"quote-origin": false,
```



### ç¾¤å†…å›å¤æ—¶æ˜¯å¦atåŸç”¨æˆ·

```json
"at-sender": false,
```



### å¼ºåˆ¶æ¶ˆæ¯å»¶è¿ŸèŒƒå›´

```json
"force-delay": [0, 0],
```

å¼ºåˆ¶æ¶ˆæ¯å»¶è¿ŸèŒƒå›´ï¼Œä»¥é˜²é£æ§ï¼Œå•ä½æ˜¯ç§’ã€‚

### é•¿æ¶ˆæ¯å¤„ç†ç­–ç•¥

```json
"long-text-process": {
    "threshold": 256,
    "strategy": "forward",
    "font-path": ""
},
```

`threshold`ï¼šé˜ˆå€¼ï¼Œæ–‡å­—é•¿åº¦å¤§äºæ­¤å€¼çš„æ¶ˆæ¯ä¼šä½¿ç”¨é•¿æ¶ˆæ¯å¤„ç†ç­–ç•¥

`strategy`ï¼šé•¿æ¶ˆæ¯å¤„ç†ç­–ç•¥ï¼Œç›®å‰æ”¯æŒforwardå’Œimage

`font-path`ï¼š imageçš„æ¸²æŸ“å­—ä½“ã€‚æœªè®¾ç½®æ—¶ï¼Œå¦‚æœåœ¨windowsä¸‹ï¼Œä¼šå°è¯•å¯»æ‰¾ç³»ç»Ÿçš„å¾®è½¯é›…é»‘å­—ä½“ï¼Œè‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è½¬ä¸ºforwardç­–ç•¥ã€‚æœªè®¾ç½®æ—¶ï¼Œè‹¥ä¸æ˜¯windowsç³»ç»Ÿï¼Œåˆ™ç›´æ¥è½¬ä¸ºforwardç­–ç•¥ã€‚

### æ˜¯å¦å‘ç”¨æˆ·éšè—AIçš„å¼‚å¸¸ä¿¡æ¯

```
"hide-exception-info": true
```

 æ˜¯å¦å‘ç”¨æˆ·éšè—AIçš„å¼‚å¸¸ä¿¡æ¯ï¼Œå¦‚æœä¸ºtrueï¼Œå½“è¯·æ±‚AIå‡ºç°å¼‚å¸¸æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªé”™è¯¯çš„æç¤ºç»™ç”¨æˆ·ã€‚è€ŒæŠŠæŠ¥é”™è¯¦æƒ…è¾“å‡ºåœ¨æ§åˆ¶å°ã€‚

## plugin-settings.json

è¿™ä¸ªæ–‡ä»¶ä¼šè¢«å¤åˆ¶åˆ°`plugins/`ç›®å½•ä¸‹

ä»¥å‰æ’ä»¶è®¾ç½®åˆ†ä¸º metadata.json switch.json settions.json 

ç°åœ¨ç»Ÿä¸€åˆ°è¿™é‡Œç®¡ç†

æ¯æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šåŒæ­¥è¿™é‡Œçš„è®¾ç½®å’Œå®é™…åŠ è½½çš„æ’ä»¶è®¾ç½®

**è¿™ä¸ªæ–‡ä»¶å†…å®¹æ˜¯ç”±ç¨‹åºè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä¸è¦æ‰‹åŠ¨æ·»åŠ æˆ–åˆ é™¤é¡¹ç›®ï¼Œä»…å¯ä¿®æ”¹ä¼˜å…ˆçº§å’Œå¯ç”¨çŠ¶æ€**

ç¤ºä¾‹ï¼š

```json
"plugins": [
    {
        "name": "Nahida",
        "description": "Hello Nahida",
        "version": "0.1",
        "author": "RockChinQ",
        "source": "",   
        "main_file": "plugins/Nahida/main.py",
        "pkg_path": "plugins/Nahida/",
        "priority": 0,  
        "enabled": true   
    }
]
```

`source`ï¼šæºç åœ°å€ï¼Œè‹¥æ— å†…å®¹ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªæ’ä»¶ä¸æ”¯æŒç¨‹åºè‡ªåŠ¨æ›´æ–°

`priority`ï¼š æ’ä»¶è¿è¡Œä¼˜å…ˆçº§ï¼Œåœ¨åˆå§‹åŒ–ã€äº‹ä»¶è°ƒç”¨æ—¶ï¼Œé«˜ä¼˜å…ˆçº§çš„æ’ä»¶å°†ä¼˜å…ˆè¢«å¤„ç†

`enabled`ï¼šè®¾ç½®ä¸ºfalseæ—¶ï¼Œä¸ä¼šåˆå§‹åŒ–ï¼Œä¹Ÿä¸ä¼šè¢«è°ƒç”¨

## provider.json

é…ç½®æä¾›AIèŠå¤©æ¥å£çš„ä¿¡æ¯

```json
"enable-chat": true,
```

`enable-chat`ï¼šæ˜¯å¦å¼€å¯AIèŠå¤©åŠŸèƒ½

```json
"openai-config": {
    "api-keys": [
        "sk-1234567890"
    ],
    "base_url": "https://api.openai.com/v1",
    "chat-completions-params": {
        "model": "gpt-3.5-turbo"
    },
    "request-timeout": 120
},
```

`api-keys`ï¼šä»¥åˆ—è¡¨çš„å½¢å¼è®¾ç½®è‹¥å¹²ä¸ªapi key

`base_url`ï¼šè®¾ç½®æ¥å£åœ°å€ï¼Œåé¢ä¸€å®šè¦åŠ `/v1`

`model`ï¼šé€‰æ‹©æ¨¡å‹

`request-timeout`ï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ï¼Œå¯¹äºè€—æ—¶è¾ƒé•¿çš„æ¨¡å‹ï¼Œå»ºè®®è®¾ç½®è¾ƒå¤§å€¼

```json
"prompt-mode": "normal",
"prompt": {
    "default": "å¦‚æœç”¨æˆ·ä¹‹åæƒ³è·å–å¸®åŠ©ï¼Œè¯·ä½ è¯´â€è¾“å…¥!helpè·å–å¸®åŠ©â€œã€‚" 
}
```

`prompt-mode`ï¼šè®¾ç½®äººæ ¼é¢„è®¾æ¨¡å¼ï¼Œå€¼ä¸º`normal`å’Œ`full-scenario`

`normal`æ—¶ï¼Œä½¿ç”¨ä¸‹é¢çš„`prompt`ï¼Œå¯è®¾ç½®å¤šä¸ª

```json
"prompt": {
    "default": "å¦‚æœç”¨æˆ·ä¹‹åæƒ³è·å–å¸®åŠ©ï¼Œè¯·ä½ è¯´â€è¾“å…¥!helpè·å–å¸®åŠ©â€œã€‚",
    "help": "å¦‚æœç”¨æˆ·ä¹‹åæƒ³è·å–å¸®åŠ©ï¼Œè¯·ä½ è¯´â€è¾“å…¥!helpè·å–å¸®åŠ©â€œã€‚"
}
```

åœ¨ä½¿ç”¨ä¸­é€šè¿‡

`!reset <é¢„è®¾å>`æŒ‡ä»¤åŠ è½½ï¼Œæˆ–ä½¿ç”¨`!default <é¢„è®¾å>`æŒ‡ä»¤å°†å…¶è®¾ä¸ºé»˜è®¤

## scenario-template.json

data/scenario ç›®å½•ä¸‹æƒ…æ™¯é¢„è®¾çš„æ¨¡ç‰ˆ

```json
{
    "prompt": [
        {
            "role": "system",
            "content": "You are a helpful assistant. å¦‚æœæˆ‘éœ€è¦å¸®åŠ©ï¼Œä½ è¦è¯´â€œè¾“å…¥!helpè·å¾—å¸®åŠ©â€"
        },
        {
            "role": "assistant",
            "content": "å¥½çš„ï¼Œæˆ‘æ˜¯ä¸€ä¸ªèƒ½å¹²çš„AIåŠ©æ‰‹ã€‚ å¦‚æœä½ éœ€è¦å¸®åŠ©ï¼Œæˆ‘ä¼šè¯´â€œè¾“å…¥!helpè·å¾—å¸®åŠ©â€"
        }
    ]
}
```

å¦‚æœä½ è¦åˆ›å»ºæ–°çš„äººæ ¼é¢„è®¾ï¼Œé‚£ä¹ˆåœ¨`data/scenario` æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶ååè¾¹è¦ç”¨ï¼Œä¸€ä¸ªæƒ…æ™¯åœ¨ä¸€ä¸ªæ–‡ä»¶

ä½¿ç”¨ä¸­é€šè¿‡

`!reset <æ–‡ä»¶å>`æŒ‡ä»¤åŠ è½½ï¼Œæˆ–ä½¿ç”¨`!default <æ–‡ä»¶å>`æŒ‡ä»¤å°†å…¶è®¾ä¸ºé»˜è®¤

## sensitive-words.json

æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±æ˜¯æ•æ„Ÿè¯è¯åº“

## system.json

è®¾ç½®ä¸€ä¸‹ç³»ç»Ÿä¿¡æ¯ï¼Œå¦‚ç®¡ç†å‘˜ã€ç½‘ç»œä»£ç†ã€æ˜¯å¦ä¸ŠæŠ¥é¥æµ‹æ•°æ®ä¾›å¼€å‘è€…åˆ†æã€æ—¥å¿—ç­‰çº§ã€ä¼šè¯æ¶ˆæ¯å¤„ç†å¹¶å‘æ•°ã€æµæ°´çº¿æ¶ˆæ¯å¤„ç†å¹¶å‘æ•°ã€å¸®åŠ©æ¶ˆæ¯

```json
"admin-sessions": [],
```

`admin-sessions`ï¼šè®¾ç½®ç®¡ç†å‘˜ä¼šè¯ï¼Œæ ¼å¼ä¸º {type}_{id}ï¼Œtype ä¸º "group" æˆ– "person"ï¼Œå¦‚ï¼š

```json
"admin-sessions": ["group_123456789", "person_123456789"],
```

```json
"network-proxies": {
    "http": null,
    "https": null
},
```

`network-proxies`ï¼šè®¾ç½®ç½‘ç»œä»£ç†ï¼Œä¸ºæ­£å‘ä»£ç†ï¼Œhttpå’Œhttpséƒ½è¦å¡«ï¼Œä¾‹å¦‚

```json
"network-proxies": {
    "http": 127.0.0.1:7890,
    "https": 127.0.0.1:7890
},
```

æ­£å‘ä»£ç†ä¹Ÿå¯ä»¥ç”¨ç¯å¢ƒå˜é‡è®¾ç½®ï¼šhttp_proxy å’Œ https_proxy

```json
"report-usage": true,
```

`report-usage`ï¼šæ˜¯å¦ä¸ŠæŠ¥é¥æµ‹æ•°æ®ä¾›å¼€å‘è€…åˆ†æï¼Œä¸åŒ…å«æ•æ„Ÿä¿¡æ¯

```json
"logging-level": "info",
```

`logging-level`ï¼šæš‚æ—¶æ²¡ç”¨ï¼Œç°åœ¨åªèƒ½é€šè¿‡ç¯å¢ƒå˜é‡ DEBUG=true æ¥è®¾ç½®è°ƒè¯•æ—¥å¿—è¾“å‡º

```json
"session-concurrency": {
    "default": 1
},
```

`session-concurrency`ï¼šä¼šè¯æ¶ˆæ¯å¤„ç†å¹¶å‘æ•°ï¼Œç²’åº¦æ˜¯æ¯ä¸ªä¼šè¯ï¼Œsessionæ ¼å¼ä¸º {type}_{id}ï¼ŒæœªæŒ‡å®šçš„sessionä½¿ç”¨ default é…ç½®

```json
"pipeline-concurrency": 20,
```

`pipeline-concurrency`ï¼šæµæ°´çº¿æ¶ˆæ¯å¤„ç†å¹¶å‘æ•°ï¼Œç²’åº¦æ˜¯æ•´ä¸ªç¨‹åº

```json
"help-message": "QChatGPT - ğŸ˜é«˜ç¨³å®šæ€§ã€ğŸ§©æ”¯æŒæ’ä»¶ã€ğŸŒå®æ—¶è”ç½‘çš„ ChatGPT QQ æœºå™¨äººğŸ¤–\né“¾æ¥ï¼šhttps://q.rkcn.top"
```

`help-message`ï¼šå¸®åŠ©æ¶ˆæ¯ï¼Œç”¨æˆ·å‘é€!help å‘½ä»¤æ—¶çš„è¾“å‡º

## æå‡ºå»ºè®®

:::tip
æ¬¢è¿å¹¿å¤§ç”¨æˆ·ç§¯ææå‡ºæ„è§å’Œå»ºè®®ï¼Œå¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥æ”¹å–„
:::

